<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Selamat Ulang Tahun Dwinta Putri Ayu ! 🎉</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Arial", sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        overflow-x: hidden;
        position: relative;
      }

      .container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        padding: 20px;
        position: relative;
        z-index: 2;
      }

      .birthday-card {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        padding: 40px;
        text-align: center;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        max-width: 600px;
        width: 100%;
        animation: fadeInUp 1s ease-out;
        backdrop-filter: blur(10px);
      }

      .birthday-title {
        font-size: 3rem;
        color: #ff6b6b;
        margin-bottom: 20px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        animation: bounce 2s infinite;
      }

      .birthday-message {
        font-size: 1.2rem;
        color: #4a4a4a;
        margin-bottom: 30px;
        line-height: 1.6;
      }

      .cake-container {
        margin: 30px 0;
        position: relative;
      }

      .cake {
        font-size: 4rem;
        cursor: pointer;
        transition: transform 0.3s ease;
        user-select: none;
      }

      .cake:hover {
        transform: scale(1.1);
      }

      .candles {
        position: absolute;
        top: -20px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 2rem;
        animation: flicker 1.5s infinite alternate;
      }

      .balloons {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin: 20px 0;
      }

      .balloon {
        font-size: 3rem;
        animation: float 3s ease-in-out infinite;
        cursor: pointer;
        transition: transform 0.3s ease;
      }

      .balloon:nth-child(1) {
        animation-delay: 0s;
      }
      .balloon:nth-child(2) {
        animation-delay: 0.5s;
      }
      .balloon:nth-child(3) {
        animation-delay: 1s;
      }
      .balloon:nth-child(4) {
        animation-delay: 1.5s;
      }

      .balloon:hover {
        transform: scale(1.2);
      }

      .celebration-btn {
        background: linear-gradient(45deg, #ff6b6b, #feca57);
        color: white;
        border: none;
        padding: 15px 30px;
        font-size: 1.1rem;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 8px 20px rgba(255, 107, 107, 0.3);
        margin: 20px 10px;
      }

      .celebration-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 25px rgba(255, 107, 107, 0.4);
      }

      .music-btn {
        background: linear-gradient(45deg, #54a0ff, #5f27cd);
        color: white;
        border: none;
        padding: 15px 30px;
        font-size: 1.1rem;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 8px 20px rgba(84, 160, 255, 0.3);
        margin: 20px 10px;
      }

      .music-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 25px rgba(84, 160, 255, 0.4);
      }

      .confetti {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
      }

      .confetti-piece {
        position: absolute;
        width: 10px;
        height: 10px;
        background: #ff6b6b;
        animation: confetti-fall 3s linear infinite;
      }

      .gift-container {
        margin: 20px 0;
      }

      .gift {
        font-size: 3rem;
        cursor: pointer;
        transition: transform 0.3s ease;
        animation: pulse 2s infinite;
      }

      .gift:hover {
        transform: scale(1.1) rotate(10deg);
      }

      .wishes-text {
        font-size: 1.1rem;
        color: #666;
        margin-top: 20px;
        font-style: italic;
      }

      /* Photo Gallery Styles */
      .photo-gallery {
        margin: 30px 0;
        position: relative;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
      }

      .gallery-header {
        background: linear-gradient(45deg, #ff6b6b, #feca57);
        color: white;
        padding: 15px;
        text-align: center;
        font-size: 1.3rem;
        font-weight: bold;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
      }

      .slideshow-container {
        position: relative;
        background: #f8f9fa;
        min-height: 300px;
      }

      .slide {
        display: none;
        position: relative;
        width: 100%;
        height: 300px;
        overflow: hidden;
      }

      .slide.active {
        display: block;
        animation: slideIn 0.8s ease-in-out;
      }

      .slide img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
        cursor: pointer;
      }

      .slide img:hover {
        transform: scale(1.05);
      }

      .slide-caption {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
        color: white;
        padding: 20px 15px 15px;
        font-size: 1rem;
        text-align: center;
      }

      .gallery-controls {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(255, 255, 255, 0.9);
        border: none;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        font-size: 1.5rem;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        z-index: 10;
      }

      .gallery-controls:hover {
        background: white;
        transform: translateY(-50%) scale(1.1);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      }

      .prev-btn {
        left: 15px;
      }

      .next-btn {
        right: 15px;
      }

      .gallery-indicators {
        display: flex;
        justify-content: center;
        padding: 15px;
        background: rgba(255, 255, 255, 0.95);
        gap: 8px;
      }

      .indicator {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: rgba(255, 107, 107, 0.3);
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .indicator.active {
        background: #ff6b6b;
        transform: scale(1.3);
      }

      .indicator:hover {
        background: #ff6b6b;
        transform: scale(1.2);
      }

      .thumbnail-nav {
        display: flex;
        gap: 10px;
        padding: 15px;
        background: rgba(255, 255, 255, 0.95);
        overflow-x: auto;
        scrollbar-width: thin;
      }

      .thumbnail {
        min-width: 60px;
        height: 60px;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 3px solid transparent;
        overflow: hidden;
      }

      .thumbnail img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .thumbnail:hover {
        transform: scale(1.1);
        border-color: #ff6b6b;
      }

      .thumbnail.active {
        border-color: #ff6b6b;
        box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
      }

      .gallery-play-pause {
        position: absolute;
        top: 15px;
        right: 15px;
        background: rgba(255, 255, 255, 0.9);
        border: none;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        font-size: 1.2rem;
        cursor: pointer;
        transition: all 0.3s ease;
        z-index: 10;
      }

      .gallery-play-pause:hover {
        background: white;
        transform: scale(1.1);
      }

      /* Lightbox Styles */
      .lightbox {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        z-index: 1000;
        animation: fadeIn 0.3s ease;
      }

      .lightbox.active {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .lightbox-content {
        max-width: 90%;
        max-height: 90%;
        position: relative;
      }

      .lightbox-content img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        border-radius: 10px;
      }

      .lightbox-close {
        position: absolute;
        top: -40px;
        right: 0;
        background: none;
        border: none;
        color: white;
        font-size: 2rem;
        cursor: pointer;
        transition: transform 0.3s ease;
      }

      .lightbox-close:hover {
        transform: scale(1.2);
      }

      .lightbox-nav {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: white;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        font-size: 1.5rem;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .lightbox-nav:hover {
        background: rgba(255, 255, 255, 0.4);
        transform: translateY(-50%) scale(1.1);
      }

      .lightbox-prev {
        left: -80px;
      }

      .lightbox-next {
        right: -80px;
      }

      /* Photo Frame Effect */
      .photo-frame {
        position: relative;
        display: inline-block;
        margin: 10px;
        padding: 15px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        transform: rotate(-2deg);
        transition: all 0.3s ease;
      }

      .photo-frame:nth-child(even) {
        transform: rotate(2deg);
      }

      .photo-frame:hover {
        transform: rotate(0deg) scale(1.05);
        z-index: 10;
      }

      .gallery-stats {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 15px;
        background: rgba(255, 255, 255, 0.95);
        font-size: 0.9rem;
        color: #666;
      }        .photo-counter {
          font-weight: bold;
          color: #ff6b6b;
        }

        /* Navigation Button Styles */
        .nav-container {
          margin: 30px 0;
          text-align: center;
        }

        .nav-btn {
          background: linear-gradient(45deg, #667eea, #764ba2);
          color: white;
          border: none;
          padding: 18px 35px;
          font-size: 1.2rem;
          border-radius: 50px;
          cursor: pointer;
          transition: all 0.3s ease;
          box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
          margin: 10px;
          text-decoration: none;
          display: inline-block;
          font-weight: bold;
          position: relative;
          overflow: hidden;
        }

        .nav-btn:hover {
          transform: translateY(-3px) scale(1.05);
          box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
          background: linear-gradient(45deg, #764ba2, #667eea);
        }

        .nav-btn:before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
          transition: left 0.5s;
        }

        .nav-btn:hover:before {
          left: 100%;
        }

        .nav-btn-special {
          background: linear-gradient(45deg, #ff6b6b, #feca57, #48dbfb);
          background-size: 200% 200%;
          animation: gradientShift 3s ease infinite;
        }

        .nav-btn-special:hover {
          background: linear-gradient(45deg, #feca57, #48dbfb, #ff6b6b);
          background-size: 200% 200%;
          animation: gradientShift 1s ease infinite;
        }

        @keyframes gradientShift {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }

        .nav-description {
          font-size: 1rem;
          color: #666;
          margin-top: 15px;
          font-style: italic;
        }

        .nav-container .nav-section {
          background: rgba(255, 255, 255, 0.1);
          border-radius: 15px;
          padding: 20px;
          margin: 20px 0;
          backdrop-filter: blur(10px);
          border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .nav-section h3 {
          color: #ff6b6b;
          margin-bottom: 15px;
          font-size: 1.4rem;
          text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }

      /* Animasi */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(50px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        60% {
          transform: translateY(-5px);
        }
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-20px);
        }
      }

      @keyframes flicker {
        0% {
          opacity: 1;
        }
        50% {
          opacity: 0.8;
        }
        100% {
          opacity: 1;
        }
      }

      @keyframes confetti-fall {
        0% {
          transform: translateY(-100vh) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(100vh) rotate(720deg);
          opacity: 0;
        }
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateX(100px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes photoFloat {
        0%,
        100% {
          transform: translateY(0px) rotate(-2deg);
        }
        50% {
          transform: translateY(-10px) rotate(2deg);
        }
      }

      /* Responsive */
      @media (max-width: 768px) {
        .birthday-title {
          font-size: 2rem;
        }

        .birthday-card {
          padding: 30px 20px;
        }

        .cake {
          font-size: 3rem;
        }

        .balloon {
          font-size: 2rem;
        }
      }

      /* Partikel latar belakang */
      .particles {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: 1;
      }

      .particle {
        position: absolute;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        animation: particleFloat 6s infinite linear;
      }

      @keyframes particleFloat {
        0% {
          transform: translateY(100vh) rotate(0deg);
          opacity: 0;
        }
        10% {
          opacity: 1;
        }
        90% {
          opacity: 1;
        }
        100% {
          transform: translateY(-100vh) rotate(360deg);
          opacity: 0;
        }
      }
    </style>
  </head>
  <body>
    <div class="particles" id="particles"></div>
    <div class="confetti" id="confetti"></div>

    <div class="container">
      <div class="birthday-card">
        <h1 class="birthday-title">
          🎉 Selamat Ulang Tahun Dwinta Putri Ayu! 🎉
        </h1>

        <p class="birthday-message">
          Semoga di hari istimewa ini, semua impian dan harapanmu terwujud.
          Semoga kebahagiaan selalu menyertai langkah-langkahmu dan umur yang
          bertambah membawa keberkahan yang melimpah! amin, semoga sempronya
          lancar tanpa kendala apa apa amin, maaf ya aku selalu buat masalah
          tapi kita lupakan dulu masalah kita, kita fokus dulu pada hari ulang
          tahunmu, sekali lagi kuucapkan selamat ulang tahun untuk mu dwinta
          putri ayu yang ke 22 tahun !! I LOPYU!!
        </p>

        <div class="cake-container">
          <div class="candles">🕯️🕯️🕯️</div>
          <div class="cake" onclick="blowCandles()">🎂</div>
        </div>

        <div class="balloons">
          <span class="balloon" onclick="popBalloon(this)">🎈</span>
          <span class="balloon" onclick="popBalloon(this)">🎈</span>
          <span class="balloon" onclick="popBalloon(this)">🎈</span>
          <span class="balloon" onclick="popBalloon(this)">🎈</span>
        </div>

        <div class="gift-container">
          <div class="gift" onclick="openGift()">🎁</div>
        </div>

        <!-- Photo Gallery Section -->
        <div class="photo-gallery">
          <div class="gallery-header">📸 foto - foto cantik 📸</div>

          <div class="slideshow-container">
            <button class="gallery-play-pause" onclick="toggleSlideshow()">
              ⏸️
            </button>

            <div class="slide active">
              <img src="1755010372559.jpg" alt="Kenangan 1" />
              <div class="slide-caption">
                Momen spesial yang tak terlupakan ✨
              </div>
            </div>

            <div class="slide">
              <img src="1755010372570.jpg" alt="Kenangan 2" />
              <div class="slide-caption">
                Senyuman terbahagia di hari istimewa 😊
              </div>
            </div>

            <div class="slide">
              <img src="1755010372587.jpg" alt="Kenangan 3" />
              <div class="slide-caption">
                Kenangan manis yang selalu diingat 💕
              </div>
            </div>

            <div class="slide">
              <img src="1755010372609.jpg" alt="Kenangan 4" />
              <div class="slide-caption">
                Moment kebahagiaan yang terpancar 🌟
              </div>
            </div>

            <div class="slide">
              <img src="1755010372620.jpg" alt="Kenangan 5" />
              <div class="slide-caption">
                Tawa riang di setiap kesempatan 😄
              </div>
            </div>

            <div class="slide">
              <img src="1755010372633.jpg" alt="Kenangan 6" />
              <div class="slide-caption">
                Pesona yang selalu memikat hati 💖
              </div>
            </div>

            <div class="slide">
              <img src="1755010372645.jpg" alt="Kenangan 7" />
              <div class="slide-caption">
                Keanggunan yang tak pernah pudar ✨
              </div>
            </div>

            <div class="slide">
              <img src="1755010372657.webp" alt="Kenangan 8" />
              <div class="slide-caption">Cantik di setiap angle kamera 📷</div>
            </div>

            <div class="slide">
              <img src="1755010372667.jpg" alt="Kenangan 9" />
              <div class="slide-caption">
                Inspirasi yang selalu memberikan semangat 🌈
              </div>
            </div>

            <button class="gallery-controls prev-btn" onclick="changeSlide(-1)">
              ❮
            </button>
            <button class="gallery-controls next-btn" onclick="changeSlide(1)">
              ❯
            </button>
          </div>

          <div class="gallery-stats">
            <span>📅 Koleksi foto Terbaik</span>
            <span class="photo-counter">1 / 9</span>
          </div>

          <div class="gallery-indicators">
            <span class="indicator active" onclick="currentSlide(1)"></span>
            <span class="indicator" onclick="currentSlide(2)"></span>
            <span class="indicator" onclick="currentSlide(3)"></span>
            <span class="indicator" onclick="currentSlide(4)"></span>
            <span class="indicator" onclick="currentSlide(5)"></span>
            <span class="indicator" onclick="currentSlide(6)"></span>
            <span class="indicator" onclick="currentSlide(7)"></span>
            <span class="indicator" onclick="currentSlide(8)"></span>
            <span class="indicator" onclick="currentSlide(9)"></span>
          </div>

          <div class="thumbnail-nav">
            <div class="thumbnail active" onclick="currentSlide(1)">
              <img src="1755010372559.jpg" alt="Thumb 1" />
            </div>
            <div class="thumbnail" onclick="currentSlide(2)">
              <img src="1755010372570.jpg" alt="Thumb 2" />
            </div>
            <div class="thumbnail" onclick="currentSlide(3)">
              <img src="1755010372587.jpg" alt="Thumb 3" />
            </div>
            <div class="thumbnail" onclick="currentSlide(4)">
              <img src="1755010372609.jpg" alt="Thumb 4" />
            </div>
            <div class="thumbnail" onclick="currentSlide(5)">
              <img src="1755010372620.jpg" alt="Thumb 5" />
            </div>
            <div class="thumbnail" onclick="currentSlide(6)">
              <img src="1755010372633.jpg" alt="Thumb 6" />
            </div>
            <div class="thumbnail" onclick="currentSlide(7)">
              <img src="1755010372645.jpg" alt="Thumb 7" />
            </div>
            <div class="thumbnail" onclick="currentSlide(8)">
              <img src="1755010372657.webp" alt="Thumb 8" />
            </div>
            <div class="thumbnail" onclick="currentSlide(9)">
              <img src="1755010372667.jpg" alt="Thumb 9" />
            </div>
          </div>
        </div>

        <!-- Navigation Section -->
        <div class="nav-container">
          <div class="nav-section">
            <h3>🎊 Jelajahi Lebih Banyak Kejutan! 🎊</h3>
            <p class="nav-description">
              Masih ada kejutan spesial menunggumu! Klik tombol di bawah untuk melihat surprise yang lebih amazing! ✨
            </p>
            
            <a href="web2/index.html" class="nav-btn nav-btn-special" onclick="showNavigationMessage()">
              🌟 Buka Kejutan Spesial 🌟
            </a>
            
            <p class="nav-description">
              Bersiaplah untuk pengalaman ulang tahun yang tak terlupakan! 🎉💖
            </p>
          </div>
        </div>

        <button class="celebration-btn" onclick="startCelebration()">
          🎊 Mulai Perayaan!
        </button>

        <button class="music-btn" onclick="toggleMusic()">
          🎵 Putar Musik
        </button>

        <p class="wishes-text">
          "Setiap tahun adalah hadiah baru, setiap hari adalah kesempatan baru,
          setiap detik adalah berkah baru. Selamat ulang tahun yang ke 22 tahun
          sayangg !!!"
        </p>
      </div>
    </div>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox" onclick="closeLightbox()">
      <div class="lightbox-content" onclick="event.stopPropagation()">
        <button class="lightbox-close" onclick="closeLightbox()">×</button>
        <img id="lightbox-img" src="" alt="" />
        <button class="lightbox-nav lightbox-prev" onclick="lightboxSlide(-1)">
          ❮
        </button>
        <button class="lightbox-nav lightbox-next" onclick="lightboxSlide(1)">
          ❯
        </button>
      </div>
    </div>

    <audio id="birthdayMusic" loop>
      <source src="web2/audio/audio.mp3" type="audio/mp3" />
      <!-- Fallback untuk browser yang tidak mendukung MP3 -->
      <p>Browser Anda tidak mendukung audio.</p>
    </audio>

    <script>
      let musicPlaying = false;
      let confettiActive = false;

      // Gallery variables
      let currentSlideIndex = 0;
      let isPlaying = true;
      let slideInterval;
      const photos = [
        {
          src: "1755010372559.jpg",
          caption: "Momen spesial yang tak terlupakan ✨",
        },
        {
          src: "1755010372570.jpg",
          caption: "Senyuman terbahagia di hari istimewa 😊",
        },
        {
          src: "1755010372587.jpg",
          caption: "Kenangan manis yang selalu diingat 💕",
        },
        {
          src: "1755010372609.jpg",
          caption: "Moment kebahagiaan yang terpancar 🌟",
        },
        {
          src: "1755010372620.jpg",
          caption: "Tawa riang di setiap kesempatan 😄",
        },
        {
          src: "1755010372633.jpg",
          caption: "Pesona yang selalu memikat hati 💖",
        },
        {
          src: "1755010372645.jpg",
          caption: "Keanggunan yang tak pernah pudar ✨",
        },
        {
          src: "1755010372657.webp",
          caption: "Cantik di setiap angle kamera 📷",
        },
        {
          src: "1755010372667.jpg",
          caption: "Inspirasi yang selalu memberikan semangat 🌈",
        },
      ];

      // Inisialisasi partikel latar belakang
      function createParticles() {
        const particlesContainer = document.getElementById("particles");

        for (let i = 0; i < 20; i++) {
          const particle = document.createElement("div");
          particle.className = "particle";
          particle.style.left = Math.random() * 100 + "%";
          particle.style.width = Math.random() * 10 + 5 + "px";
          particle.style.height = particle.style.width;
          particle.style.animationDelay = Math.random() * 6 + "s";
          particle.style.animationDuration = Math.random() * 3 + 3 + "s";
          particlesContainer.appendChild(particle);
        }
      }

      // Fungsi untuk meniup lilin
      function blowCandles() {
        const candles = document.querySelector(".candles");
        const cake = document.querySelector(".cake");

        candles.style.opacity = "0";
        cake.innerHTML = "🎂✨";

        setTimeout(() => {
          candles.style.opacity = "1";
          cake.innerHTML = "🎂";
        }, 3000);

        showMessage("Selamat! Kamu berhasil meniup lilin! 🎉");
        createFireworks();
      }

      // Fungsi untuk memecahkan balon
      function popBalloon(balloon) {
        balloon.style.transform = "scale(0)";
        balloon.innerHTML = "💥";

        setTimeout(() => {
          balloon.style.transform = "scale(1)";
          balloon.innerHTML = "🎈";
        }, 2000);

        playPopSound();
      }

      // Fungsi untuk membuka kado
      function openGift() {
        const gift = document.querySelector(".gift");
        gift.innerHTML = "🎁✨";

        setTimeout(() => {
          gift.innerHTML = "🏆";
          showMessage(
            "Kado spesial untukmu! Semoga tahun ini membawa keberuntungan! 🏆"
          );
        }, 500);

        setTimeout(() => {
          gift.innerHTML = "🎁";
        }, 4000);
      }

      // Fungsi untuk memulai perayaan
      function startCelebration() {
        createConfetti();
        createFireworks();
        showMessage(
          "Selamat Ulang Tahun! Semoga hari ini penuh kebahagiaan! 🎊"
        );

        // Efek shake pada kartu
        const card = document.querySelector(".birthday-card");
        card.style.animation = "none";
        setTimeout(() => {
          card.style.animation = "bounce 0.5s ease-in-out 3";
        }, 10);
      }

      // Fungsi untuk toggle musik
      function toggleMusic() {
        const music = document.getElementById("birthdayMusic");
        const musicBtn = document.querySelector(".music-btn");

        if (musicPlaying) {
          music.pause();
          musicBtn.innerHTML = "🎵 Putar Musik";
          musicPlaying = false;
          showMessage("Musik dihentikan 🎵");
        } else {
          // Coba putar musik
          const playPromise = music.play();
          
          if (playPromise !== undefined) {
            playPromise.then(() => {
              // Audio berhasil diputar
              musicBtn.innerHTML = "⏸️ Hentikan Musik";
              musicPlaying = true;
              showMessage("🎵 Musik ulang tahun dimulai! Selamat menikmati! 🎶");
            }).catch((error) => {
              // Audio gagal diputar
              console.log("Audio play failed:", error);
              showMessage("Silakan klik sekali lagi untuk memutar musik 🎵");
            });
          } else {
            // Fallback untuk browser lama
            try {
              music.play();
              musicBtn.innerHTML = "⏸️ Hentikan Musik";
              musicPlaying = true;
              showMessage("🎵 Musik ulang tahun dimulai! 🎶");
            } catch (error) {
              showMessage("Browser tidak dapat memutar audio, tapi perayaan tetap berlanjut! 🎉");
            }
          }
        }
      }

      // Fungsi untuk membuat confetti
      function createConfetti() {
        if (confettiActive) return;
        confettiActive = true;

        const confettiContainer = document.getElementById("confetti");
        const colors = ["#ff6b6b", "#feca57", "#48dbfb", "#ff9ff3", "#54a0ff"];

        for (let i = 0; i < 50; i++) {
          const confettiPiece = document.createElement("div");
          confettiPiece.className = "confetti-piece";
          confettiPiece.style.left = Math.random() * 100 + "%";
          confettiPiece.style.backgroundColor =
            colors[Math.floor(Math.random() * colors.length)];
          confettiPiece.style.animationDelay = Math.random() * 3 + "s";
          confettiContainer.appendChild(confettiPiece);

          setTimeout(() => {
            confettiPiece.remove();
          }, 3000);
        }

        setTimeout(() => {
          confettiActive = false;
        }, 3000);
      }

      // Fungsi untuk membuat efek kembang api
      function createFireworks() {
        const colors = ["#ff6b6b", "#feca57", "#48dbfb", "#ff9ff3", "#54a0ff"];

        for (let i = 0; i < 5; i++) {
          setTimeout(() => {
            const firework = document.createElement("div");
            firework.style.position = "absolute";
            firework.style.left = Math.random() * 100 + "%";
            firework.style.top = Math.random() * 50 + "%";
            firework.style.fontSize = "2rem";
            firework.innerHTML = "✨";
            firework.style.color =
              colors[Math.floor(Math.random() * colors.length)];
            firework.style.zIndex = "10";
            firework.style.animation = "bounce 1s ease-out";

            document.body.appendChild(firework);

            setTimeout(() => {
              firework.remove();
            }, 1000);
          }, i * 200);
        }
      }

      // Fungsi untuk menampilkan pesan
      function showMessage(message) {
        const existingMessage = document.querySelector(".popup-message");
        if (existingMessage) {
          existingMessage.remove();
        }

        const messageDiv = document.createElement("div");
        messageDiv.className = "popup-message";
        messageDiv.innerHTML = message;
        messageDiv.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(255, 107, 107, 0.9);
                color: white;
                padding: 15px 25px;
                border-radius: 25px;
                font-size: 1.1rem;
                z-index: 1000;
                animation: fadeInUp 0.5s ease-out;
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
                backdrop-filter: blur(10px);
            `;

        document.body.appendChild(messageDiv);

        setTimeout(() => {
          messageDiv.style.animation = "fadeInUp 0.5s ease-out reverse";
          setTimeout(() => {
            messageDiv.remove();
          }, 500);
        }, 3000);
      }

      // Fungsi untuk efek suara pop (simulasi)
      function playPopSound() {
        // Simulasi efek suara dengan vibration (jika didukung)
        if (navigator.vibrate) {
          navigator.vibrate(100);
        }
      }

      // Event listener untuk keyboard
      document.addEventListener("keydown", function (event) {
        if (event.code === "Space") {
          event.preventDefault();
          startCelebration();
        } else if (event.code === "Enter") {
          event.preventDefault();
          blowCandles();
        }
      });

      // Inisialisasi saat halaman dimuat
      document.addEventListener("DOMContentLoaded", function () {
        createParticles();
        startSlideshow();

        // Event listener untuk keyboard gallery
        document.addEventListener("keydown", function (event) {
          if (event.code === "ArrowLeft") {
            changeSlide(-1);
          } else if (event.code === "ArrowRight") {
            changeSlide(1);
          } else if (event.code === "Escape") {
            closeLightbox();
          }
        });

        // Click handler untuk lightbox
        const slides = document.querySelectorAll(".slide img");
        slides.forEach((img, index) => {
          img.addEventListener("click", () => openLightbox(index));
        });

        // Animasi sambutan
        setTimeout(() => {
          showMessage("Selamat datang di perayaan ulang tahun! 🎉");
        }, 1000);

        // Easter egg: double click untuk surprise
        document.addEventListener("dblclick", function () {
          const surprises = [
            "🌟 Surprise! Kamu menemukan bintang keberuntungan!",
            "🦄 Wow! Unicorn ajaib muncul untuk mengucapkan selamat!",
            "🌈 Amazing! Pelangi kebahagiaan telah muncul!",
            "⭐ Fantastic! Bintang jatuh membawa wishes untukmu!",
          ];

          const randomSurprise =
            surprises[Math.floor(Math.random() * surprises.length)];
          showMessage(randomSurprise);
          createFireworks();
        });
      });

      // Gallery Functions
      function startSlideshow() {
        slideInterval = setInterval(() => {
          if (isPlaying) {
            changeSlide(1);
          }
        }, 4000);
      }

      function changeSlide(direction) {
        const slides = document.querySelectorAll(".slide");
        const indicators = document.querySelectorAll(".indicator");
        const thumbnails = document.querySelectorAll(".thumbnail");

        slides[currentSlideIndex].classList.remove("active");
        indicators[currentSlideIndex].classList.remove("active");
        thumbnails[currentSlideIndex].classList.remove("active");

        currentSlideIndex += direction;

        if (currentSlideIndex >= slides.length) {
          currentSlideIndex = 0;
        } else if (currentSlideIndex < 0) {
          currentSlideIndex = slides.length - 1;
        }

        slides[currentSlideIndex].classList.add("active");
        indicators[currentSlideIndex].classList.add("active");
        thumbnails[currentSlideIndex].classList.add("active");

        updatePhotoCounter();
      }

      function currentSlide(n) {
        const slides = document.querySelectorAll(".slide");
        const indicators = document.querySelectorAll(".indicator");
        const thumbnails = document.querySelectorAll(".thumbnail");

        slides[currentSlideIndex].classList.remove("active");
        indicators[currentSlideIndex].classList.remove("active");
        thumbnails[currentSlideIndex].classList.remove("active");

        currentSlideIndex = n - 1;

        slides[currentSlideIndex].classList.add("active");
        indicators[currentSlideIndex].classList.add("active");
        thumbnails[currentSlideIndex].classList.add("active");

        updatePhotoCounter();
      }

      function toggleSlideshow() {
        const playPauseBtn = document.querySelector(".gallery-play-pause");

        if (isPlaying) {
          clearInterval(slideInterval);
          playPauseBtn.innerHTML = "▶️";
          isPlaying = false;
          showMessage("Slideshow dijeda ⏸️");
        } else {
          startSlideshow();
          playPauseBtn.innerHTML = "⏸️";
          isPlaying = true;
          showMessage("Slideshow dimulai ▶️");
        }
      }

      function updatePhotoCounter() {
        const counter = document.querySelector(".photo-counter");
        counter.textContent = `${currentSlideIndex + 1} / ${photos.length}`;
      }

      // Lightbox Functions
      function openLightbox(index) {
        const lightbox = document.getElementById("lightbox");
        const lightboxImg = document.getElementById("lightbox-img");

        currentSlideIndex = index;
        lightboxImg.src = photos[index].src;
        lightbox.classList.add("active");

        // Pause slideshow when lightbox is open
        if (isPlaying) {
          clearInterval(slideInterval);
        }
      }

      function closeLightbox() {
        const lightbox = document.getElementById("lightbox");
        lightbox.classList.remove("active");

        // Resume slideshow when lightbox is closed
        if (isPlaying) {
          startSlideshow();
        }
      }

      function lightboxSlide(direction) {
        const lightboxImg = document.getElementById("lightbox-img");

        currentSlideIndex += direction;

        if (currentSlideIndex >= photos.length) {
          currentSlideIndex = 0;
        } else if (currentSlideIndex < 0) {
          currentSlideIndex = photos.length - 1;
        }

        lightboxImg.src = photos[currentSlideIndex].src;

        // Update main gallery
        const slides = document.querySelectorAll(".slide");
        const indicators = document.querySelectorAll(".indicator");
        const thumbnails = document.querySelectorAll(".thumbnail");

        document.querySelector(".slide.active").classList.remove("active");
        document.querySelector(".indicator.active").classList.remove("active");
        document.querySelector(".thumbnail.active").classList.remove("active");

        slides[currentSlideIndex].classList.add("active");
        indicators[currentSlideIndex].classList.add("active");
        thumbnails[currentSlideIndex].classList.add("active");

        updatePhotoCounter();
      }

      // Navigation Function
      function showNavigationMessage() {
        showMessage('Sedang membuka kejutan spesial untukmu! 🌟✨');
        createFireworks();
        
        // Optional: Add a small delay for better UX
        setTimeout(() => {
          // The link will naturally navigate after this
        }, 500);
      }

      // Auto celebration setelah 5 detik
      setTimeout(() => {
        if (!confettiActive) {
          createConfetti();
        }
      }, 5000);
    </script>
  </body>
</html>
